{% extends "panel/overview.html" %}

{% block content %}
<div class="container mt-4">
  <h2>Blok Detayı</h2>

  {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
  {% else %}
    <div class="card mb-4">
      <div class="card-body">
        <p><strong>Blok #:</strong> {{ block.block_index }}</p>
        <p><strong>Hash:</strong> {{ block.block_hash }}</p>
        <p><strong>Önceki Hash:</strong> {{ block.previous_hash }}</p>
        <p><strong>Madenci:</strong> {{ block.miner_address }}</p>
        <p><strong>Versiyon:</strong> {{ block.version }}</p>
        <p><strong>Zaman:</strong> {{ block.timestamp }}</p>
        <p><strong>Merkle Root:</strong> {{ block.merkle_root }}</p>
        <p><strong>Nonce:</strong> {{ block.nonce }}</p>
        <p><strong>Boyut:</strong> {{ block.virtual_size }} byte</p>
      </div>
    </div>

    <h4>İşlemler</h4>
    {% if block.transactions %}
      <table class="table table-striped">
        <thead>
          <tr>
            <th>TXID</th>
            <th>Gönderen</th>
            <th>Alıcı</th>
            <th>Tutar</th>
            <th>Tip</th>
          </tr>
        </thead>
        <tbody>
          {% for tx in block.transactions %}
            <tr>
              <td>{{ tx.txid }}</td>
              <td>{{ tx.sender }}</td>
              <td>{{ tx.recipient }}</td>
              <td>{{ tx.amount }}</td>
              <td>{{ tx.type }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>Bu blokta işlem bulunmamaktadır.</p>
    {% endif %}
  {% endif %}
</div>
{% endblock %}

